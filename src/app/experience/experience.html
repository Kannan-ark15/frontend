<app-navbar [menuItems]="menuItems" logoClickRoute="/"></app-navbar>
<div class="experience-container">
  <!-- Netflix-style Hero Video Section -->
  <div class="hero-video-section">
    <div class="video-container">
        <video #heroVideo class="hero-video" 
            [muted]="true"
            [loop]="true"
            playsinline
            preload="auto">
        </video>
      
      <!-- Gradient Overlay -->
      <div class="video-overlay"></div>
      
      <!-- Video Content -->
      <div class="video-content">
        <h1 class="video-title">Welcome to My Journey</h1>
        <p class="video-subtitle">Discover my professional experience, skills, and achievements</p>
      </div>
    </div>
  </div>
<div class="experience-container" id="timeline-section">
  <!-- Header -->
  <div class="timeline-header">
    <h1 class="main-title">My Journey</h1>
    <p class="subtitle">A timeline of experiences, education, and growth</p>
  </div>

  <!-- Timeline -->
  <div class="timeline">
    <!-- Central vertical line -->
    <div class="timeline-line"></div>

    <!-- Timeline Items -->
    @for (item of timelineItems(); track item.id) {
      <div class="timeline-item" 
           [class.expanded]="item.expanded"
           [style.--item-color]="item.color">
        
        <!-- Node (Circle Icon) -->
        <div class="timeline-node" (click)="toggleExpand(item.id)">
          <span class="node-icon">{{ item.icon }}</span>
          <div class="node-pulse"></div>
        </div>

        <!-- Content Card -->
        <div class="timeline-content" (click)="toggleExpand(item.id)">
          <!-- Header -->
          <div class="content-header">
            <div class="header-left">
              <p class="content-label">{{ item.label }}</p>
              <span class="content-duration">{{ item.duration }}</span>
            </div>
            <svg class="expand-icon" [class.rotated]="item.expanded" 
                 fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" 
                    stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </div>

          <!-- Main Content -->
          <h3 class="content-heading">{{ item.heading }}</h3>
          <p class="content-description">{{ item.description }}</p>

          <!-- Flowchart (if exists) -->
          @if (item.expanded && item.flowchart) {
            <div class="flowchart">
              @for (node of item.flowchart; track node.title; let i = $index) {
                <!-- Animated wire leading to this node -->
                @if (i > 0) {
                  <div class="flowchart-wire" 
                       [class.animated]="isFlowchartNodeAnimated(item.id, i)">
                    <div class="wire-flow"></div>
                  </div>
                }
                
                <!-- The flowchart node -->
                <div class="flowchart-node"
                     [class.revealed]="isFlowchartNodeAnimated(item.id, i)">
                  <h4 class="node-title">{{ node.title }}</h4>
                  <p class="node-text">{{ node.text }}</p>
                </div>
              }
            </div>
          }
        </div>
      </div>
    }
  </div>
</div>
